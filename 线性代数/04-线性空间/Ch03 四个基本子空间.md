# 3.1 向量空间和子空间

向量的线性组合：

$$
if\;\;\;\mathbf{u},\mathbf{v}\in \mathbb{R}^n\implies c\mathbf{u}+d\mathbf{v}\in \mathbb{R}^n\;\;\;then\;\;\;\mathbb{R}^n是一个向量空间
$$

复数空间：$\mathbb{C}^n$

实数空间：$\mathbb{R}^n$

子空间，向量空间中的向量空间

![[Introduction to Linear Algebra.pdf#page=96&rect=58,589,465,620|Introduction to Linear Algebra, p.86]]

## 向量空间的一些例子

$\mathbf{Z}$ 只包含零向量 $\to$ 最小的向量空间

矩阵的向量空间（矩阵空间）：$\mathbb{R}^{3\times{3}}$ 包含所有的 $3\times 3$ 矩阵

函数的向量空间（函数空间）：线性微分方程

## 子空间

过 $(0,0,0)$ 的平面是 $\mathbb{R}^3$ 的一个子空间，经过原点的直线也是一个子空间

![[Introduction to Linear Algebra.pdf#page=96&rect=61,310,456,385|Introduction to Linear Algebra, p.86]]

 一个子空间必须满足以下两个条件：封闭于加法和数乘运算

空间内向量的所有线性组合仍然在空间

![[Introduction to Linear Algebra.pdf#page=97&rect=66,488,447,515|Introduction to Linear Algebra, p.87]]

假设 $\mathbf{u}$, $\mathbf{v}$, $\mathbf{w}$ 是向量空间中的任意向量，而 $c, d$ 是任意标量（常数）。

> [!NOTE] 八条公理
> ### A. 关于向量加法的公理 (4 条) 
> 1. **加法交换律 (Commutativity of Addition)** $\mathbf{v} + \mathbf{w} = \mathbf{w} + \mathbf{v}$ (向量相加的顺序不重要。) 
> 2. **加法结合律 (Associativity of Addition)** $(\mathbf{u} + \mathbf{v}) + \mathbf{w} = \mathbf{u} + (\mathbf{v} + \mathbf{w})$ (多个向量相加时，先算哪两个无所谓。) 
> 3. **存在零向量 (Existence of a Zero Vector)** 向量空间中必须存在一个唯一的“零向量” $\mathbf{0}$，使得对于任意向量 $\mathbf{v}$，都有： $\mathbf{v} + \mathbf{0} = \mathbf{v}$ 
> 4. **存在加法逆元 (Existence of Additive Inverses)** 对于空间中的每一个向量 $\mathbf{v}$，都必须存在一个与之对应的“负向量” $-\mathbf{v}$，使得： $\mathbf{v} + (-\mathbf{v}) = \mathbf{0}$
> ### B. 关于标量乘法的公理 (4 条) 
> 5. **标量乘法对向量加法的分配律 (Distributivity)** $c(\mathbf{v} + \mathbf{w}) = c\mathbf{v} + c\mathbf{w}$ (一个标量乘以两个向量的和，等于这个标量分别乘以这两个向量后再相加。) 
> 6. **标量乘法对标量加法的分配律 (Distributivity)** $(c + d)\mathbf{v} = c\mathbf{v} + d\mathbf{v}$ (两个标量的和乘以一个向量，等于这两个标量分别乘以这个向量后再相加。) 
> 7. **标量乘法结合律 (Associativity of Scalar Multiplication)** $c(d\mathbf{v}) = (cd)\mathbf{v}$ (用一个标量去乘一个已经被标量乘过的向量，等于用这两个标量的乘积去乘初始向量。) 
> 8. **存在单位元 (Existence of Multiplicative Identity)** 标量 1 乘以任何向量 $\mathbf{v}$，结果仍是 $\mathbf{v}$ 本身： $1\mathbf{v} = \mathbf{v}$

![[Introduction to Linear Algebra.pdf#page=96&rect=63,61,452,145|Introduction to Linear Algebra, p.86]]

## 列空间

 列空间是由矩阵的所有列向量的线性组合构成的空间。对于一个 $m \times n$ 矩阵 $A$，其列空间 $C(A)$ 是 $\mathbb{R}^m$ 的一个子空间。（m: m 个分量）

 ![[Introduction to Linear Algebra.pdf#page=97&rect=51,158,460,192|Introduction to Linear Algebra, p.87]]

求解 $Ax=b$ $\to$ b 是否在 $C(A)$ 中

![[Introduction to Linear Algebra.pdf#page=97&rect=67,83,443,112|Introduction to Linear Algebra, p.87]]

## 行空间

![[Introduction to Linear Algebra.pdf#page=98&rect=71,482,444,524|Introduction to Linear Algebra, p.88]]

# 3.2 使用消元法计算零空间

零空间：$\mathbf{N}(A)$ 包含 $Ax=0$ 所有的解 $x$

通过消元法，得到简化行阶梯形 $R=rref(A)$ 去除零行，填入 0/1，找到特解，就能找到零空间的基

![[Pasted image 20250916144859.png]]

## 消元得到简化行阶梯形

$R=\begin{bmatrix}I & F\end{bmatrix}$ 简化行阶梯形

![[Pasted image 20250916145311.png]]

![[Introduction to Linear Algebra.pdf#page=105&rect=46,544,462,625|Introduction to Linear Algebra, p.95]]

从 A 到 R = $\begin{bmatrix}I & F\end{bmatrix}$ 实际上是求了 A 中可逆的矩阵块的逆

$$
R = W^{-1}A
$$

![[Introduction to Linear Algebra.pdf#page=105&rect=45,350,478,380|Introduction to Linear Algebra, p.95]]

而 F 用于还原线性相关的列

![[Introduction to Linear Algebra.pdf#page=105&rect=62,123,442,240|Introduction to Linear Algebra, p.95]]

## 逐列消元法

目标：将任意矩阵 A 转化为其唯一的**简化行阶梯形 (RREF)**

![[Introduction to Linear Algebra.pdf#page=106&rect=112,530,396,565|Introduction to Linear Algebra, p.96]]

它通过从左到右逐一处理每一列来系统地完成这个过程

**算法流程:**

1.  **从第一列开始**，依次向右处理每一列。
2.  对于当前处理的**新列**，检查其在已确定的主元行以下的**下半部分 (ℓ)**。
3.  **进行判断**:
    * 如果**下半部分 (ℓ) 全是零**：
        * 说明此列**依赖于**前面的主元列。
        * 该列被视为**自由列**，不做消元处理，直接进入下一列。
    * 如果**下半部分 (ℓ) 不全是零**：
        * 说明此列是**独立的**。
        * 该列将被转换成一个**主元列**：
            a.  从 **ℓ** 中选择一个非零元素作为新的**主元 (pivot)**。
            b.  将主元所在的行**交换**到主元行的最下方。
            c.  利用这个主元，通过行变换**消元**，将该主元列的其他所有元素都变成 0。
4.  **重复该过程**，直到所有列都被处理完毕。

最终，矩阵被转化为简化行阶梯形，并且我们清楚地识别出了哪些是**主元列**（矩阵的骨架），哪些是**自由列**。

$\to$ $R_{0}$ 是唯一的，完全由原始矩阵 $A$ 决定

求解 Ax=0 现在只需要求解 Rx=0

## 矩阵分解 A=CR 和零空间

![[Introduction to Linear Algebra.pdf#page=107&rect=49,293,466,396|Introduction to Linear Algebra, p.97]]

零空间矩阵：即零空间矩阵各列由特解组成，记 N 为零空间矩阵

$$
N = \begin{bmatrix}
-F \\
I
\end{bmatrix}
$$

其中的 $I$ 是一个 $(n-r)\times(n-r)$ 的单位矩阵

零空间：

![[Introduction to Linear Algebra.pdf#page=108&rect=62,317,448,422|Introduction to Linear Algebra, p.98]]

$n>m$ 时 $Ax=0$ 必然有非零解，$N(A)\neq Z$

零空间的维数：$n-r$

## 总结：三步分块消元

![[Introduction to Linear Algebra.pdf#page=109&rect=50,237,476,416|Introduction to Linear Algebra, p.99]]

![[Introduction to Linear Algebra.pdf#page=109&rect=69,57,444,102|Introduction to Linear Algebra, p.99]]

对原始矩阵 A （秩为 r）进行分块，$W$ 是 $A$ 中分出的一个满秩的矩阵

由于满秩，可以得到其他块都是 $W$ 的某些线性组合

通过消元法，得到 $\begin{bmatrix}I & W^{-1}H \\ 0 & 0\end{bmatrix}$ 即简化行阶梯形

我们可以得到另一个结论

$$P_R A P_C = \begin{bmatrix} W \\ J \end{bmatrix} W^{-1} \begin{bmatrix} W & H \end{bmatrix} = CW^{-1}B$$

这个公式揭示了任何矩阵在经过行和列的重新排列后，都可以被分解为其核心可逆部分 (`W⁻¹`) 和其行空间 (`B`) 与列空间 (`C`) 的基的乘积。

# 3.3 Ax = b 的通解

我们可以把 $Ax=b$ 消为 $R_{0}x=d$

## Ax = b 的一个特解

可以使自由变量为 0，主变量从 $d$ 中取

为了使方程有解，$R_{0}$ 中零行对应行在 $d$ 中也应该是 0 

![[Pasted image 20250919132422.png]]

因为 $R_{0}$ 中包含单位阵，主变量可以从 $d$ 中得到

![[Introduction to Linear Algebra.pdf#page=115&rect=55,468,458,533|Introduction to Linear Algebra, p.105]]

![[Introduction to Linear Algebra.pdf#page=115&rect=90,379,432,424|Introduction to Linear Algebra, p.105]]

通解：$x_{p} + x_{n}$ 

![[Introduction to Linear Algebra.pdf#page=115&rect=74,265,430,335|Introduction to Linear Algebra, p.105]]

特殊情况：$A$ 是一个可逆方阵（$n=m=r$），消元得到 $x_{p} = A^{-1}b=d$，$x_{n} = 0$

$\to$ 有没有解：看列数 $\to$ $n=r$ ？

![[Introduction to Linear Algebra.pdf#page=116&rect=105,281,410,328|Introduction to Linear Algebra, p.106]]

## 满行秩与通解

另外一个极端的例子是满行秩：$Ax=b$ 有一个解或无穷多解

![[Introduction to Linear Algebra.pdf#page=118&rect=90,502,425,623|Introduction to Linear Algebra, p.108]]

![[Introduction to Linear Algebra.pdf#page=118&rect=72,384,436,467|Introduction to Linear Algebra, p.108]]

![[Introduction to Linear Algebra.pdf#page=118&rect=61,286,452,337|Introduction to Linear Algebra, p.108]]

为什么会无解？$0=d$ 但 $d\neq{0}$

$\to$ 例题补充

![[Introduction to Linear Algebra.pdf#page=120&rect=58,74,447,101&color=yellow|Introduction to Linear Algebra, p.110]]

# 3.4 线性无关、基、维数

## 线性无关

![[Introduction to Linear Algebra.pdf#page=125&rect=43,92,460,138&color=yellow|Introduction to Linear Algebra, p.115]]

$N(A)$ 只包含零向量 $\implies$ 列向量线性无关

![[Introduction to Linear Algebra.pdf#page=126&rect=54,317,472,417&color=yellow|Introduction to Linear Algebra, p.116]]

![[Introduction to Linear Algebra.pdf#page=127&rect=53,345,462,407&color=yellow|Introduction to Linear Algebra, p.117]]

![[Introduction to Linear Algebra.pdf#page=127&rect=97,232,417,278&color=yellow|Introduction to Linear Algebra, p.117]]

## 张成子空间的向量

向量的线性组合张成一个空间，这些向量可能是线性相关的。

## 向量空间的基

基是指一组线性无关的向量，它们可以张成整个向量空间。

![[Introduction to Linear Algebra.pdf#page=128&rect=64,266,451,347&color=yellow|Introduction to Linear Algebra, p.118]]

![[Introduction to Linear Algebra.pdf#page=128&rect=68,196,451,220&color=yellow|Introduction to Linear Algebra, p.118]]

标准基：$n\times n$ 单位矩阵的列构成 $R^n$ 的标准基，例如在 Rⁿ中，标准基为 e₁=(1,0,...,0), e₂=(0,1,...,0), ..., eₙ=(0,0,...,1)。

$n\times n$ 的可逆矩阵的列也构成 $R^n$ 的基

![[Introduction to Linear Algebra.pdf#page=129&rect=57,462,444,500&color=yellow|Introduction to Linear Algebra, p.119]]

![[Introduction to Linear Algebra.pdf#page=129&rect=104,386,404,430&color=yellow|Introduction to Linear Algebra, p.119]]

零向量绝不可能是向量空间中任何一组基的一部分。

## 维数

基中的向量个数称为该空间的维数。

![[Introduction to Linear Algebra.pdf#page=130&rect=74,216,445,263&color=yellow|Introduction to Linear Algebra, p.120]]

零空间的维数：$n-r$

对于矩阵空间、函数空间，也有基的概念

![[Introduction to Linear Algebra.pdf#page=131&rect=79,257,448,343&color=yellow|Introduction to Linear Algebra, p.121]]

$Z$ 空间只包含零向量，它的维数是 0，它的基是 空集 $\phi$

## 总结

![[Introduction to Linear Algebra.pdf#page=132&rect=69,488,466,659&color=yellow|Introduction to Linear Algebra, p.122]]

1.  如果 $Ax = 0$ 的唯一解是 $x = 0$，那么矩阵 A 的列向量是**线性无关的**。
2.  如果向量 $v_1, \dots, v_r$ 的线性组合可以充满整个空间，那么这些向量就**张成 (span)** 该空间。
3.  **基 (basis)** 由一组**线性无关**的向量组成，这些向量**张成 (span)** 整个空间。空间中的每一个向量都可以表示为基向量的**唯一**线性组合。
4.  一个空间的所有基都含有相同数量的向量。基中向量的数量就是该空间的**维度 (dimension)**。
5.  主元列 (pivot columns) 是列空间的一个基。列空间 C(A) 的维度是 r。

$R^n$ 的一组基，乘以 $n\times n$ 可逆方阵之后，仍然构成 $R^n$ 的基

![[Introduction to Linear Algebra.pdf#page=132&rect=57,286,461,454&color=yellow|Introduction to Linear Algebra, p.122]]

![[Introduction to Linear Algebra.pdf#page=133&rect=53,352,460,395&color=yellow|Introduction to Linear Algebra, p.123]]

# 3.5 四个子空间的维数

1. 行空间的维数是 $r$
2. 列空间的维数是 $r$ 
3. 零空间的维数是 $n-r$ （基是特解）
4. 左零空间的维数是 $m-r$ （左零空间：$N(A^T)$）

左零空间：

$$
y^TR_{0} = 0^T
$$

![[Introduction to Linear Algebra.pdf#page=142&rect=54,394,459,665|Introduction to Linear Algebra, p.132]]

## 四个子空间的性质

1. $A$、$R_{0}$、$R$ 具有相同的列空间（维数和基相同）
2. 行秩等于列秩
3. $A$、$R_{0}$ 具有相同的零空间 $\implies$ 列空间的维数 + 零空间的维数 = $R^n$ 的维数

线性代数基本定理（第一部分）：

1. 行秩等于列秩
2. 零空间维数为 $n-r$ 和 $m-r$ 

行空间与列空间可以建立双射

$A=CR$ $\implies$ 所有秩为 $r$ 的矩阵都是 $r$ 个秩为 $1$ 的矩阵之和

## 回顾

关于左零空间：

![[Introduction to Linear Algebra.pdf#page=151&rect=48,173,463,237|Introduction to Linear Algebra, p.141]]

消元：$\begin{bmatrix}A & I\end{bmatrix} \implies \begin{bmatrix}R_{0} & E\end{bmatrix}$ 而 $EA=R_{0}$，$E$ 中的最后 $m-r$ 行是左零空间的基

可逆变换之后，四个基本字空间不变

$A = CR = C\begin{bmatrix}I & F\end{bmatrix}P$

### **四个基本子空间 (Four Fundamental Subspaces)**

| **子空间**                    | **符号表示** | **定义**                                                                                            | **如何求基 (Basis)**                                                         | **维度**               | **所在空间**       |
| -------------------------- | -------- | ------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------ | -------------------- | -------------- |
| **行空间** (Row Space)        | $C(A^T)$ | 由矩阵 A 的**行向量**张成的空间。                                                                              | 对 A 行变换得到阶梯形矩阵 R，R 的**非零行向量**构成一组基。                                      | $r = \text{rank}(A)$ | $\mathbb{R}^n$ |
| **列空间** (Column Space)     | $C(A)$   | 由矩阵 A 的**列向量**张成的空间，也称为 A 的像 (Image)。                                                             | 对 A 行变换得到 R，R 中**主元 (pivot) 所在的列**，对应回**原矩阵 A** 的那些列向量构成一组基。             | $r = \text{rank}(A)$ | $\mathbb{R}^m$ |
| **零空间** (Null Space)       | $N(A)$   | 齐次方程组 $A\mathbf{x} = \mathbf{0}$ 的所有解向量 $\mathbf{x}$ 构成的空间。                                       | 求解 $A\mathbf{x} = \mathbf{0}$。通过 RREF 找到自由变量，将解表示为自由变量的线性组合，组合中的向量构成一组基。 | $n - r$              | $\mathbb{R}^n$ |
| **左零空间** (Left Null Space) | $N(A^T)$ | 齐次方程组 $A^T\mathbf{y} = \mathbf{0}$ (或 $\mathbf{y}^T A = \mathbf{0}^T$) 的所有解向量 $\mathbf{y}$ 构成的空间。 | 构造增广矩阵 $[A \| I]$，行变换为 $[R \| P]$ 中与 R 的**零行**对应的**行向量**构成一组基。           | $m-r$                | $\mathbb{R}^m$ |

### **核心结论与关系 (线性代数基本定理)**

这四个子空间并非孤立存在，它们之间有着深刻的正交关系，构成了线性代数的基本定理。

#### **1. $\mathbb{R}^n$ 空间内的关系**

- **行空间 $C(A^T)$ 与零空间 $N(A)$ 正交**
    
    - **含义**: 行空间中的任意向量都与零空间中的任意向量正交（它们的点积为零）。
        
    - **证明思路**: $A\mathbf{x} = \mathbf{0}$ 的矩阵乘法形式，正是 A 的每一行与向量 $\mathbf{x}$ 的点积都为零。
        
    - **关系**: 它们是 $\mathbb{R}^n$ 空间中的**正交补 (Orthogonal Complements)**。这意味着 $\mathbb{R}^n$ 中任何一个向量都可以唯一地分解为一个行空间向量与一个零空间向量的和。
        
    - **维度关系**: $\dim(C(A^T)) + \dim(N(A)) = r + (n-r) = n$。
        

#### **2. $\mathbb{R}^m$ 空间内的关系**

- **列空间 $C(A)$ 与左零空间 $N(A^T)$ 正交**
    
    - **含义**: 列空间中的任意向量都与左零空间中的任意向量正交。
        
    - **证明思路**: $\mathbf{y}^T A = \mathbf{0}^T$ 的矩阵乘法形式，正是向量 $\mathbf{y}$ 与 A 的每一列的点积都为零。
        
    - **关系**: 它们是 $\mathbb{R}^m$ 空间中的**正交补**。
        
    - **维度关系**: $\dim(C(A)) + \dim(N(A^T)) = r + (m-r) = m$。
        

### **类比记忆**

- **行变换不改变行空间**: 这是求行空间基的理论基础。
    
- **行变换改变列空间，但保持列向量间的线性关系**: 这是求列空间基需要找回原矩阵对应列的原因。
    
- **秩 - 零度定理 (Rank-Nullity Theorem)**: $\text{rank}(A) + \text{nullity}(A) = n$。这其实就是 $\mathbb{R}^n$ 空间内的维度关系。
    
- **左零空间**可以理解为寻找一种行的线性组合，使得组合后的结果为零行。这个线性组合的系数向量就构成了左零空间。这恰好就是 $[A|I] \to [R|P]$ 过程中 $P$ 所记录的信息。

### **补充二：线性变换的几何图像**

这四个子空间描绘了矩阵 $A$ 作为一个线性变换（从 $\mathbb{R}^n$ 到 $\mathbb{R}^m$）的完整几何图像。

- **输入空间 $\mathbb{R}^n$**:
    
    - 被**行空间 $C(A^T)$** 和**零空间 $N(A)$** 这两个正交的子空间完全瓜分。
        
- **输出空间 $\mathbb{R}^m$**:
    
    - 被**列空间 $C(A)$** 和**左零空间 $N(A^T)$** 这两个正交的子空间完全瓜分。
        

**变换过程**:

1. **对于零空间**: 矩阵 $A$ 将零空间 $N(A)$ 中的**所有向量**都映射到输出空间 $\mathbb{R}^m$ 中的**零向量**。这部分信息在变换中“消失”了。
    
2. **对于行空间**: 矩阵 $A$ 将行空间 $C(A^T)$ 中的向量**一一对应**地映射到列空间 $C(A)$ 中。这是一个**双射 (bijection)**，意味着行空间和列空间之间存在一种完美的、可逆的对应关系。
    

**核心思想**：任何一个在 $\mathbb{R}^n$ 中的向量 $\mathbf{x}$ 都可以被分解为行空间分量 $\mathbf{x}_r$ 和零空间分量 $\mathbf{x}_n$。当被 $A$ 变换时，$A\mathbf{x} = A(\mathbf{x}_r + \mathbf{x}_n) = A\mathbf{x}_r + \mathbf{0}$。最终的结果完全由其行空间分量决定。